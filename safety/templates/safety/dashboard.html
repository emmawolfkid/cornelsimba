<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Management Dashboard</title>
    <style>
        * { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #f5f7fa; color: #333; line-height: 1.6; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { color: #2c3e50; margin-bottom: 30px; padding-bottom: 10px; border-bottom: 3px solid #e67e22; }
        h2 { color: #34495e; margin: 30px 0 15px; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05); border-radius: 8px; overflow: hidden; margin-bottom: 30px; }
        th { background: #e67e22; color: white; padding: 15px; text-align: left; }
        td { padding: 12px 15px; border-bottom: 1px solid #eee; }
        tr:hover { background: #f8f9fa; }
        .status-resolved { color: #27ae60; font-weight: 500; }
        .status-open { color: #e74c3c; font-weight: 500; }
        .compliant-yes { color: #27ae60; font-weight: 500; }
        .compliant-no { color: #e74c3c; font-weight: 500; }
        .empty-row td { text-align: center; color: #7f8c8d; font-style: italic; padding: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Safety Management Dashboard</h1>

        <h2>Safety Incidents</h2>
        <table>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Severity</th>
                <th>Location</th>
                <th>Status</th>
            </tr>
            {% for incident in incidents %}
            <tr>
                <td>{{ incident.incident_id }}</td>
                <td>{{ incident.title }}</td>
                <td>{{ incident.severity }}</td>
                <td>{{ incident.location }}</td>
                <td>
                    {% if incident.is_resolved %}
                    <span class="status-resolved">Resolved</span>
                    {% else %}
                    <span class="status-open">Open</span>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr class="empty-row"><td colspan="5">No incidents reported</td></tr>
            {% endfor %}
        </table>

        <h2>Safety Inspections</h2>
        <table>
            <tr>
                <th>ID</th>
                <th>Area</th>
                <th>Date</th>
                <th>Compliant</th>
            </tr>
            {% for insp in inspections %}
            <tr>
                <td>{{ insp.inspection_id }}</td>
                <td>{{ insp.area }}</td>
                <td>{{ insp.inspection_date }}</td>
                <td>
                    {% if insp.compliant %}
                    <span class="compliant-yes">Yes</span>
                    {% else %}
                    <span class="compliant-no">No</span>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr class="empty-row"><td colspan="4">No inspections found</td></tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>